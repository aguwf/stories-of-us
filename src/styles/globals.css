@layer tailwind-base, antd;

@layer tailwind-base {
  @tailwind base;
}
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Main Palette */
    --primary: #e78454;
    --primary-light: #fdf0dc;
    --background: #fff9ee;
    --secondary: #4f2d27;
    --secondary-light: #4f2d27d1;
    --doc-vet: #e8f8f6;
    --doc-vaccine: #fddcdc;

    /* Shadcn / Base UI placeholders - mapped to palette where appropriate or kept neutral */
    --foreground: #4f2d27; /* Using secondary (dark brown) as foreground text color for consistency */
    --card: #ffffff;
    --card-foreground: #4f2d27;
    --popover: #ffffff;
    --popover-foreground: #4f2d27;

    --primary-foreground: #fff9ee; /* Text on primary button */

    --secondary-foreground: #fff9ee;

    --muted: #f4f4f5;
    --muted-foreground: #757575;

    --accent: #fdf0dc; /* Using primary-light as accent */
    --accent-foreground: #4f2d27;

    --destructive: #ef4444;
    --destructive-foreground: #fafafa;

    --border: #e5e5e6;
    --input: #e5e5e6;
    --ring: #e78454; /* Ring matches primary */

    --radius: 0.75rem;

    /* Legacy/Other (Consider removing if unused, keeping generic for now) */
    --success: #28a745;
    --warning: #ffc107;
    --danger: #dc3545;
    --shadow: rgba(0, 0, 0, 0.1);
  }

  .dark {
    /* Dark mode overrides (if needed, currently sticking to light mode palette or generic dark placeholders) */
    --background: #0a0a0b;
    --foreground: #fafafa;
    --card: #0a0a0b;
    --card-foreground: #fafafa;
    --popover: #0a0a0b;
    --popover-foreground: #fafafa;
    --primary: #e78454;
    --primary-foreground: #fafafa;
    --secondary: #27272a;
    --secondary-foreground: #fafafa;
    --muted: #27272a;
    --muted-foreground: #a1a1aa;
    --accent: #27272a;
    --accent-foreground: #fafafa;
    --destructive: #7f1d1d;
    --destructive-foreground: #fafafa;
    --border: #27272a;
    --input: #27272a;
    --ring: #d4d4d8;
  }
}

@layer base {
  * {
    @apply border-border font-poppins;
  }
  body {
    @apply bg-background text-foreground;
  }
}

@layer components {
  /* Legacy Custom Classes - Refactor or Remove as needed. Keeping essential UI helpers */
  .input {
    @apply w-full mt-1 rounded-xl border border-primary bg-background px-4 py-3 text-secondary focus:outline-none focus:ring-2 focus:ring-primary;
  }

  .label {
    @apply mt-1 text-sm text-primary;
  }

  .primary-btn {
    @apply w-full rounded-xl bg-primary py-3 text-white font-semibold;
  }

  .social-btn {
    @apply w-10 h-10 rounded-full flex items-center justify-center overflow-hidden p-1;
  }

  .error {
    @apply text-xs text-red-500 mt-1;
  }

  .tiptap {
    @apply min-h-[120px] outline-none;
  }
}

/* 3rd party overrides */
.rtf {
  z-index: 49 !important;
}

.rtf--mb {
  width: 48px;
  height: 48px;
}

.rtf.open .rtf--mb > * {
  transform: none !important;
}

.rtf.open .rtf--ab__c:first-child {
  transform: translateY(-64px) scale(1) !important;
}

.rtf .rtf--ab {
  margin-right: -1px !important;
}
